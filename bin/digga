#!/bin/sh
# Uses dig to get IP or CNAME of specified domain

domain="$1"

if [ -z "$domain" ]; then
    echo "Enter domain to dig: \c"
    read domain
    if [ -z "$domain" ]; then
        echo "Aborting"
        exit 1
    fi
fi

record=$(dig +short $domain | sed -n 1p | sed 's/\.$//' | tr -d '\n')

if [ -z "$record" ]; then
    echo "No record found"
else
    echo $record
fi
